# ============================================
# Cloudflare DDNS Configuration
# Multi-Zone + Multi-Interface + Custom Proxied/TTL
# Version: 2.0
# ============================================

# ============ DEFAULT VALUES ============
# Các giá trị mặc định (dùng khi không chỉ định cụ thể)

# API Token mặc định
DEFAULT_API_TOKEN="your_default_api_token_here"

# Zone ID mặc định
DEFAULT_ZONE_ID="your_default_zone_id_here"

# Interface mặc định
DEFAULT_INTERFACE="wan"

# Proxied mặc định (true/false)
DEFAULT_PROXIED="false"

# TTL mặc định (1=auto, 120=2min, 300=5min, 600=10min, 3600=1hour)
DEFAULT_TTL="120"

# ============ DOMAINS CONFIGURATION ============
# Danh sách các domain cần update (cách nhau bởi dấu phẩy)
CF_DOMAINS="domain1.com,sub.domain1.com,domain2.com,sub.domain2.com"

# ============ API TOKENS (Optional) ============
# API Token cho từng domain (để trống để dùng DEFAULT_API_TOKEN)
# THỨ TỰ PHẢI KHỚP VỚI CF_DOMAINS!
CF_API_TOKENS="token_for_domain1,token_for_domain1,token_for_domain2,token_for_domain2"
# Hoặc để trống: CF_API_TOKENS=",,,"

# ============ ZONE IDS (Required for multi-zone) ============
# Zone ID cho từng domain (để trống để dùng DEFAULT_ZONE_ID)
# THỨ TỰ PHẢI KHỚP VỚI CF_DOMAINS!
CF_ZONE_IDS="zone_id_1,zone_id_1,zone_id_2,zone_id_2"
# Hoặc để trống nếu tất cả cùng zone: CF_ZONE_IDS=",,,"

# ============ RECORD IDS (Required) ============
# Record ID cho từng domain
# Lấy bằng lệnh: cloudflare-ddns --get-record-id
# THỨ TỰ PHẢI KHỚP VỚI CF_DOMAINS!
CF_RECORD_IDS="record_id_1,record_id_2,record_id_3,record_id_4"

# ============ INTERFACES (Optional) ============
# Interface cho từng domain (để trống để dùng DEFAULT_INTERFACE)
# THỨ TỰ PHẢI KHỚP VỚI CF_DOMAINS!
CF_INTERFACES="wan,wanvnpt,wan,wanfpt"
# Hoặc để trống: CF_INTERFACES=",,,"

# ============ PROXIED (Optional) ============
# Proxy qua Cloudflare CDN cho từng domain (true/false)
# THỨ TỰ PHẢI KHỚP VỚI CF_DOMAINS!
# 
# true  = Proxy qua Cloudflare (ẩn IP thật, có CDN, DDoS protection)
# false = Không proxy (hiện IP thật)
CF_PROXIED="false,true,false,true"
# Hoặc để trống để dùng DEFAULT_PROXIED: CF_PROXIED=",,,"

# ============ TTL (Optional) ============
# TTL (Time To Live) cho từng domain (giây)
# THỨ TỰ PHẢI KHỚP VỚI CF_DOMAINS!
#
# 1 = Auto (Cloudflare quyết định)
# 120 = 2 phút (nhanh, tốn API)
# 300 = 5 phút (cân bằng)
# 600 = 10 phút
# 3600 = 1 giờ (chậm, ít tốn API)
CF_TTL="120,300,120,600"
# Hoặc để trống để dùng DEFAULT_TTL: CF_TTL=",,,"

# ============ OTHER ============
# Chế độ yên lặng (true/false)
QUIET="false"


# ============================================
# HƯỚNG DẪN SỬ DỤNG
# ============================================

# ──────────────────────────────────────────
# VÍ DỤ 1: Đơn giản - Tất cả domain giống nhau
# ──────────────────────────────────────────
# DEFAULT_API_TOKEN="abc123..."
# DEFAULT_ZONE_ID="zone_abc123"
# DEFAULT_INTERFACE="wan"
# DEFAULT_PROXIED="false"
# DEFAULT_TTL="120"
# 
# CF_DOMAINS="example.com,www.example.com,api.example.com"
# CF_API_TOKENS=""        # Dùng default
# CF_ZONE_IDS=""          # Dùng default
# CF_INTERFACES=""        # Dùng default
# CF_PROXIED=""           # Dùng default
# CF_TTL=""               # Dùng default
# CF_RECORD_IDS="id1,id2,id3"

# ──────────────────────────────────────────
# VÍ DỤ 2: Custom Proxied - Một số domain proxy, một số không
# ──────────────────────────────────────────
# # Web chính (example.com) → Proxy qua Cloudflare (bảo mật, CDN)
# # API (api.example.com) → KHÔNG proxy (cần IP thật)
# # Admin (admin.example.com) → KHÔNG proxy (cần IP thật)
# 
# CF_DOMAINS="example.com,api.example.com,admin.example.com"
# CF_PROXIED="true,false,false"
# CF_RECORD_IDS="id1,id2,id3"
# 
# DEFAULT_ZONE_ID="zone_abc"
# DEFAULT_INTERFACE="wan"

# ──────────────────────────────────────────
# VÍ DỤ 3: Custom TTL - Domain quan trọng TTL thấp
# ──────────────────────────────────────────
# # Web chính → TTL=120 (2min, update nhanh)
# # Blog → TTL=3600 (1 giờ, ít thay đổi)
# # VPN → TTL=300 (5min, cân bằng)
# 
# CF_DOMAINS="example.com,blog.example.com,vpn.example.com"
# CF_TTL="120,3600,300"
# CF_RECORD_IDS="id1,id2,id3"

# ──────────────────────────────────────────
# VÍ DỤ 4: ĐẦY ĐỦ - Domain có setting hoàn toàn khác nhau
# ──────────────────────────────────────────
# # domain1.com:
# #   - WAN: wan
# #   - Proxied: true (có CDN)
# #   - TTL: 120 (update nhanh)
# #
# # sub.domain1.com:
# #   - WAN: wanvnpt
# #   - Proxied: false (hiện IP thật)
# #   - TTL: 300
# #
# # domain2.com:
# #   - WAN: wan (zone khác)
# #   - Proxied: true
# #   - TTL: 600
# #
# # api.domain2.com:
# #   - WAN: wanfpt
# #   - Proxied: false (API cần IP thật)
# #   - TTL: 120
# 
# CF_DOMAINS="domain1.com,sub.domain1.com,domain2.com,api.domain2.com"
# CF_ZONE_IDS="zone1,zone1,zone2,zone2"
# CF_INTERFACES="wan,wanvnpt,wan,wanfpt"
# CF_PROXIED="true,false,true,false"
# CF_TTL="120,300,600,120"
# CF_RECORD_IDS="id1,id2,id3,id4"

# ──────────────────────────────────────────
# VÍ DỤ 5: Mix - Một số custom, một số default
# ──────────────────────────────────────────
# DEFAULT_PROXIED="false"
# DEFAULT_TTL="120"
# 
# # 4 domain, chỉ domain thứ 2 khác biệt
# CF_DOMAINS="web.com,cdn.web.com,api.com,vpn.com"
# CF_PROXIED=",true,,"        # Chỉ cdn.web.com = true, còn lại = false (default)
# CF_TTL=",60,,"              # Chỉ cdn.web.com = 60s, còn lại = 120s (default)
# CF_RECORD_IDS="id1,id2,id3,id4"

# ──────────────────────────────────────────
# HIỂU VỀ PROXIED
# ──────────────────────────────────────────
# 
# PROXIED = TRUE (Orange Cloud):
# ✅ Ưu điểm:
#    - Ẩn IP thật của server
#    - Có CDN tăng tốc website
#    - DDoS protection miễn phí
#    - SSL/TLS tự động
# ❌ Nhược điểm:
#    - Không thể dùng cho non-HTTP (SSH, VPN, FTP, game server...)
#    - Một số dịch vụ cần IP thật
# 
# PROXIED = FALSE (Grey Cloud):
# ✅ Ưu điểm:
#    - Hiện IP thật → Dùng được cho mọi dịch vụ
#    - Phù hợp cho SSH, VPN, FTP, mail server, game server
# ❌ Nhược điểm:
#    - Không có CDN
#    - Không có DDoS protection
#    - IP bị lộ
# 
# KHI NÀO DÙNG TRUE/FALSE:
# - Web/Blog công khai → TRUE (có CDN)
# - API endpoint → FALSE (cần IP thật)
# - VPN server → FALSE (không hoạt động với proxy)
# - SSH/RDP → FALSE (không hoạt động với proxy)
# - Mail server → FALSE (SMTP cần IP thật)
# - Game server → FALSE (không hoạt động với proxy)
# - FTP server → FALSE (không hoạt động với proxy)

# ──────────────────────────────────────────
# HIỂU VỀ TTL
# ──────────────────────────────────────────
# 
# TTL = Time To Live (thời gian DNS cache)
# 
# TTL THẤP (60-120s):
# ✅ Ưu điểm:
#    - IP thay đổi được nhận nhanh
#    - Phù hợp cho IP động thay đổi thường xuyên
# ❌ Nhược điểm:
#    - Tốn nhiều DNS queries
#    - Có thể bị rate limit
# 
# TTL CAO (3600-7200s):
# ✅ Ưu điểm:
#    - Giảm DNS queries
#    - Ít tốn băng thông
# ❌ Nhược điểm:
#    - IP thay đổi mất lâu mới nhận
#    - Không phù hợp cho IP động
# 
# KHUYẾN NGHỊ:
# - IP động (home internet) → 120-300s (2-5 phút)
# - IP tĩnh hoặc ít đổi → 3600s (1 giờ)
# - Service quan trọng → 120s (update nhanh)
# - Service ít quan trọng → 600-3600s (tiết kiệm)

# ──────────────────────────────────────────
# CHÚ Ý QUAN TRỌNG
# ──────────────────────────────────────────
# 1. Thứ tự 7 list phải khớp nhau:
#    Domain[1] → API_Token[1] → Zone[1] → Interface[1] → Proxied[1] → TTL[1] → Record[1]
#    Domain[2] → API_Token[2] → Zone[2] → Interface[2] → Proxied[2] → TTL[2] → Record[2]
#
# 2. Không có khoảng trắng sau dấu phẩy:
#    ✅ Đúng: "true,false,true"
#    ❌ Sai:  "true, false, true"
#
# 3. Để trống sẽ dùng giá trị DEFAULT:
#    CF_PROXIED=",true,,"  → [default, true, default, default]
#
# 4. Proxied chỉ áp dụng với HTTP/HTTPS traffic
#
# 5. TTL = 1 sẽ để Cloudflare tự động chọn (thường là 300s)

# ============================================